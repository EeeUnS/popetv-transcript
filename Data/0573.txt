안녕하세요, 포프입니다.

오늘은 서버에 장애가 있거나 할 때 그 사실을 빨리 알아보는 방법, 그거를 저희가 세팅한 게 있어서 알려드리려고 해요. 아주 예전에 와이파이 사이렌 달아서 장애 생기면 알람을 울리게 하는 걸 얘기했었죠? 그거랑 비슷한 건데, 그 제품이 이제 단종이 됐고 더 이상 서비스를 제대로 지원하지 않아요. 그래서 다른 방식을 찾다가 요즘 스마트 조명이 굉장히 많이 유행하고 가격도 저렴해져서 그걸 사용하면 충분히 대체할 수 있겠더라고요.

서버 장애가 생기면 슬랙이나 스마트폰에 알림 설정 되게 많이들 해놔요. 근데 문제는 뭐냐면 저 같은 사람은 일에 집중하면 알람이 울려도 안 들어요. 그냥 '뭔가 울렸나 보지'하고 아예 필터링하는 모드로 들어가 버려서 별로 확인도 안 하고요. 그 외에도 저희가 아무리 불필요한 알림 설정 정리해서 다 줄여놔도 알림 많이 오잖아요? 그리고 그걸 신경을 안 쓰잖아요? 전화가 울려야지 그거라도 듣고 '네네 하겠습니다.' 이렇게 되는 거지. 근데 그것도 이제 고위직에 올라갈수록 누군가가 나한테 연락할 사람이 별로 없거든요? 그래서 결과적으로 '내가 먼저 알아야 하는데 알 방법이 없다'라고 하면 그냥 집에 사이렌이 울리게 하는 게 제일 좋은 방법이긴 합니다.

그래서 그런 방식을 생각했어요. 지금 제가 만들어놓은 세팅이 어떻게 되냐면, 저희는 일단 서버에 장애가 생기면 둘 중의 하나입니다. 911 아니면 912. 912는 우리가 생각했을 때 이게 발생하면 안 될 것 같은데 발생한 거예요. 하지만 이런다고 고객은 크게 문제가 있는 게 아니에요. 그리고 당장 급하게 고쳐야 하는 것도 아니에요. 그래서 큰 문제는 아닌데 장애가 있는 경우.

911은 지금 당장 고치지 않으면 고객이 화를 낼 수 있는 그런 경우입니다. 911이 발생하면 저희 슬랙에도 알림이 오고, 이메일도 오고, 스마트 폰에도 알림이 와요. 그런데 그렇게 일하다 보니까 일에 집중하다 보면 아무도 신경을 안 써요.

그래서 제일 좋은 게 뭔지 고민을 하다 보니까 문제가 발생하면 조명의 색깔 별로 그 상황을 알려주면 굉장히 좋을거라고 생각 했어요. 그래서 요즘 스마트 조명 있잖아요? 스마트 조명에 API를 호출해서 자동화할 수 있거든요?. 코딩하기 싫으면 그냥 IFTTT 쓰면 돼요. 이렇게 하는 게 누구 찾아서 연락하는 것보다 훨씬 나아요. 그런 생각이 드니까 '그래 조명을 달자' 결정해서 그냥 색깔 바뀌는 스마트 조명 하나 사고, 조명 소켓도 하나 샀어요. 이제는 911, 912 발생했을 때 이메일을 보내줘요. 그럼 이메일이 수신되는 순간 제 방에 있는 불이 911이면 빨간색, 912면 노란색으로 켜집니다. 그리고 10초 뒤에 꺼져요. 제가 방에 있을 때 보통 일을 하고 있거든요? 일하고 있다 보면 조명에 상황별로 불이 들어옵니다. 스마트폰 알림 다 무시하거나 신경 안 써도 이렇게 바로 확인하고 있어요. 딱 이 용도로만 조명이 있으니까 좋아요.

이걸 한 김에 생각을 또 했어요. '이거를 더 활용할 방법이 없을까?' 저희가 POCU 아카데미에서 빌드봇이라는 시스템을 돌려요. 이 빌드봇이 숨겨진 기능이 꽤 많아요. 그리고 그 기능에서 조교님들만 사용할 수 있는 숨겨진 기능들이 있습니다. 빌드봇에 어떤 명령어를 입력하면 곧바로 팀 슬랙에 메시지가 뜨게 하는 방법이 있어요. 알림도 다 오는데 뭐냐 하면, 조교님들이 봤을 때 우리 서버 자체에는 오류가 안 떴는데 급한 일이 뭔가가 생겼어요. 그러면 조교님들이 저희한테 직접 메시지를 곧바로 보낼 수 있어요. 이것도 조명에 연동해서 912랑 똑같이 활용하기로 했어요. 그래서 조교님들이 메시지를 남기면 제 방에 노란불이 켜져요. 이제 이걸 아시는 조교님들은 메시지를 막 날려요. 그럼 제 방이 디스코 룸이 되는 거죠. 막 반짝반짝 반짝반짝 그렇게 되는 거예요.

그리고 또 고민해 봤어요. '또 뭐가 있을까?' 갑자기 우리 직원이 서버 라이브 권한이 없는 사람들이 서버에 장애가 생긴 걸 알았어요. 아니면 서버에 뭔가 보고 싶거나 서버 관리를 할 수 있는 사람이 급하게 필요해요. 그러면 메시지를 보낼 수 있게 저희 회사 내부 슬랙 챗에 명령어를 만들었어요. 그래서 새 이벤트가 발생하면 방에 불이 켜져요, 빨간색으로. 그러면 '이거 무슨 일이에요?' 가서 얘기할 수 있게 해 놨어요. 여기까지 하니까 좋았어요. '이게 되게 좋구나. 내가 알림은 신경 안 쓰면서 중요한 일만 있을 때 내가 집중할 수가 있구나'. 되게 좋았어요. 

이제 '일상에서는 어떻게 활용할 수 있을까?' 생각했어요. 최근 포프TV 보신 분들은 알겠지만 제가 뒷배경이 바뀌었잖아요? 제가 새로운 집으로 이사를 왔어요. 근데 이 집이 장점이 더럽게 넓어요. 예전에 제가 대저택에 산다고 막 거짓말을 했지만, 이제는 그 말이 현실이 되었어요. 이 방도 되게 커요. 가까워 보이잖아요? 이게 실제 뒤로 걸어가는 데 3분이나 걸려요. 옆쪽은 2배로 더 깊어요. 방 하나하나가 크고, 복층이에요. 그러면 누군가가 현관문에 왔을 때 벨을 누르면 나가기 힘들어요. 물론 벨을 누를 때 IOT 연결해 놔서 스마트폰에도 알림이 오게 설정을 해놨죠. 근데 그게 실제 그렇게 효율적이지 않더라고요. 택배 배송하러 온 분들은 늦게 나오면 '없나?' 이렇게 생각하고 가실 수도 있고요. 그리고 벨을 누르는 순간 스피커에서 누가 벨을 눌렀다고 말해주게 설정도 해놨는데 그 벨이 울리고 나서 오르락내리락하는데 시간이 걸리고 이러니까 되게 힘든 거예요. 이게 대저택의 현실입니다. 그래서 방식을 좀 바꿨어요. 어떻게 하냐? 현관문에 CCTV가 달려 있거든요? 그래서 카메라에서 사람이 우리 집 현관문으로 오고 있는 게 보이면 제 방에 초록색 불이 켜지게 해 놨어요. 그럼 초록색 불이 켜지고 바로 나가는 동안 밖에서는 벨을 누르고 잠시 대기하고 있는 상황이 돼요. 그런 식으로 또 조명을 활용하고 있어요. 그래서 이 조명이 '굉장히 효용성이 많겠구나' 생각하고 있어요.

이거를 한 김에, 방식은 다 결정이 됐으니까 여기다 추가로 정말 911이 발생했을 때 작동할 스피커도 추가할 생각이에요. 스마트 보안기기가 많이 발달하면서 와이파이 사이렌이 많이 생겼거든요. 근데 전용 앱을 설치하고 이래야 하니까 제대로 제어할 방법들이 많지 않았는데, 실제 IFTTT만 제대로 지원만 하면 API 연동해서 사이렌을 울리게 하는 법도 있더라고요. 거기까지 이제 고민하고 있어요. 

그래서 이거를 만든 이후에 되게 편해졌고 스마트폰을 이제 거의 안 봐요. 볼 이유가 없어요. 그래서 좀 덜 거슬리는, 하지만 더 효율적으로 정말 내가 당장 뭐를 해야만 되는 특정한 상황을 프로그래밍할 수 있으니까 좋더라고요. 그래서 이런 거 고민하시는 분들, 특히 재택 근무하는데 서버 책임지는 분들, 아니면 저처럼 회사 운영하는데 내가 필요한 경우에 빨리 가서 고쳐야 하는 걸 중요하게 여기는 분들은 설정해 주시면 좋을 거고요.

이거 보는 조교님들 '안녕하세요, 포프님' 이런 걸로 쓸데없이 계속 메시지 쏘고 해서 제 방을 디스코 룸으로 만들고 그러면 조교는 없던 일로 하겠습니다.

포프였습니다.