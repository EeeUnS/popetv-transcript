안녕하세요 포프입니다
사실 이 비디오는 저번저번
저번저번
비디오를 말할 때 사실 말했어야할 내용인거같은데
새까맣게 까먹고 있다가 지금 생각이 났어요
저번저번저번저번 비디오가 뭐였냐면
왜 아직도 float인가
제가 floating point하면은 Z-fighting이 많이 나고 어쩌고 저쩌고
double이 좋긴한데 blah blah 이런 얘길 했었죠
근데 되게 재밌는게 그거에요, 그
floating point value라는게
아시는 분은 아시겠지만
숫자가
작을수록
그 정확도가 높다고 해야되나요
0에 가까운 숫자일수록 정확도가 높아요, 예를 들어서
깊이를 따질때도
뭔가 반드시 floating point의 문제는 아니지만
거긴 계산의 문제긴 하지만
깊이가 앞에 뭐 0에서 10 사이에 있는 것보다
10에서 100사이에 있는게 정밀도가 떨어지고
100에서 1000사이
1000에서 10000사이 이렇게 있는게 정밀도가 점점 떨어져요
근데 되게 재밌는게 그거에요
게임에서 보통 그 얘기를 하잖아요
뭐 아티스트와 얘기하시는 분은 알겠지만
MAYA나 MAX에서
이렇게 모델을 만들었어요, 그러면 모델 크기가
뭐 20이다
그러면
이 20이
과연 그 unit이 뭐냐라고 물어보면은
맨날 그거 갖고 정하는데 뭐 여러번 하잖아요
뭐 20이면 20m다, 20이면 20cm다
20이면
미국에서는 22inch다, 20ft다
굉장히 그 숫자가 다양해지거든요
심지어는
보통 100cm 가 1m잖아요
그러면 10을 1m로 두는 회사도 봤어요
그래서 여러가지 방법이 있는데
저는 왜 그런지 ㅎㅎㅎ 모르겠어요
제가 하고 싶은 말은 딱 하나에요 그냥
제가 써본 결과,  floating point를 게임에 여러번 써본 결과
게임에서 쓰는 unit은 미터(m)가 맞아요
뭐 반박하시는 분들도 계시겠지만 당연히
만드는 월드(세상)가 micro biology이런거  해가지고 그냥
0.0001mm짜리 애가 이렇게 크게 화면에 나와야 된다면 얘기가 달라지는데
일반적으로
일상 real (time)world가 아니고, 그
실제 세계에서
나오는 그 정도의
게임을 만들 때는 제 생각에는
1m가 unit 1이 되는게 맞아요
제가 그걸 느낀게 뭐냐면
예전에 darksider2를 만들 때
미국회사죠
그래서 저는 도와줬는데, 같은 모회사 안에 있어서
걔네는 unit이
좀 이상했어요
걔네는 미국애들이니까, 기본적으로
단위를 m, cm로 생각하지 않고
inch하고 ft로 생각을 해요
1ft이면 30cm거든요
근데 얘네는
단위 1이면
10분의 1ft인가 그랬어요
실제 1m면 3인가 뭐 아무튼 개념이 좀 이상했어요
심지어는 더 이상한데는
1이 1cm로 둔 애들도 있었거든요
그러면 예를 들어서, 사람을 그린다고 하면
제 키가 180cm이니까, 막 180이렇게 나오는거에요, 단위가
그럼 중요한거는
vertex같은거 만들 때
제가 위에서 아래까지 vertex를 박아봐야
몇 개나 박겠어요, 뭐 100개 박겠어요?
그러면
뭐 1cm마다 하나씩 박는다고 하죠
그러면 180개에요
1, 2, 3, 4, 5, 6, 7, 8, 9, 10 하고 180까지 가고
그 중간에 있는 floating 범위는 버리는거나 다름없거든요, 그러면
아까도 말씀드렸듯이
0에 가까울수록 정밀도가
높은데
그 정밀도를을 쓸데없는데
써버리고
제 밖으로 한 10m, 20m에 있는 것들은 단위가 엄청 커지는 거에요
10m에 있으면 1,800일거고
100m 밖에 있으면 18,000이에요
그리고
1km 밖에 있으면180,000이라고요
근데 180,000정도 되갖고 드로잉을 시작하면 메쉬를
그 floating point정밀도가 엄청 떨어져서 Z-fighting이 엄청나요
실제 darksider2 만들떄도 그 unit 때문에 엄청나게
Z-fighting이 엄청 났었어요
저는 space marine이 미터(m) 단위였었고, space marine을
바로 ship(출시)하고 들어왔는데
전혀
이게 difighting(?)이 날 정도의 거리가 아닌데
기껏해야 거리가 2만, 3만? 기껏해야 6만짜리 가지고
그게 Z-fighting 난다는게 말이 안되더라구요
그래서 요즘 게임들은 open world하면
가시거리가 꽤 되잖아요
1km도 되고, 2km도 되고
1km가 된다면
아까 cm를 단위로 했으면, 그거만 해도 이미 Z-fighting이 날 정도고
저기보면 이미 Z-fighting이 나서, 삼각형이 반짝반짝 거리죠
그런게 문제거든요
물론 자기한테 익숙한 단위를 쓴다는건 참 좋고
그리고 cm냐 m냐를 따질 때
뭐 어떤걸 써도 상관이 없다고 생각하겠지만
뭐 제 기억으론 MAYA에서는 기본 단위가 cm인걸로 알고있어요
FVX도 보통 cm로 가고
넥슨은 기본 단위가 아마
ft으로 들어갈거에요, 한국분들은 아마 미터(m)로 바꿔 쓰겠지만
또 cm로 바꿔쓰시는 분도 있겠죠
제가 하고 싶은 말은 그거에요.
이런 이런 이런 이유가 있기
때문에
미터(m)를 1 단위로 둬도 상관이 없다
그리고 floating point 정밀도가 소수점 내려가도 많이 떨어진다고는 하지만
뭐 제 키가 2m라고 하면
2m 안에 vertex 몇 개나 박겠어요, 위 아래로
기껏해봐야
한 200개 박을까?
200개라 해봤자 1cm당 vertex 하나씩 박는거거든요
충분히 많죠, 그보다 더 적어도 될거에요. 더 많아도 되고
그러면 1m에 100개 들어가는데
0.1단위에요 vertex단위가
0.1단위의 소수점 오차정도는 그렇게 큰 문제가 안된다고요
오히려 그걸 두배로 늘려도 뭐 0.05정도, 뭐 별로 차이없어요
이렇게 가까운 거리에서 Z-fighting이 날 경우는 거의 없죠
오히려 그것보다는
아까 말했듯이
숫자를 괜히 쓸데없이 크게 잡음으로 해서
1km정도 밖에 안떨어져 있는데, 이미 floating point숫자는 엄청 커서
그것 때문에 오차 생기는 것보다는 훨씬 나은거죠.
뭐 이건 솔직히
floating point의 오차도 있지만, 그보다는 이제 뭐
프로젝션 들어갈 때 z에다가 w division 할 때, 나눌 때
그 때 다룰 문제긴 한데
그냥 예전에 한번 보고
개인적으로 그때도 가서 처음 생각했던거같고
아 이런 문제가 있어서
미터(m)를 써야하는구나, 저는 당연하게 미터를 써왔지만
왜냐면 저는 미터가 편하니까
근데 이제
혹시라도 다른 단위를 쓸려고
하시는 분들은
한번 생각을 해보세요 내 게임이
과연 가시거리가 얼마나 될거냐
내 현재 카메라 위치에서
뭐 몇km까지 보여줄거냐, 몇백m까지 보여줄거냐
그걸 게임 단위로 변환하면 몇이 될거냐
그 단위가
뭐 제가 가이드라인을 정확히 드릴 수는 없는데
이렇게 생각을 해보죠. 미터(m)를 1단위로 하면
1km면 1,000이에요
10km면 10,000이죠
그러면을
제가 볼 때는
한
3만 이상 넘어가면은 그건
이미 아마 안좋은 단위라고 생각하고요
가시거리가 3km다, 그런데 내가 1씩 한다, 그러면 좀 문제가 있다고 보고
보통 게임회사가 가시거리 3km를 만들 일은 솔직히 드물죠
그러면은
한 제 생각에는 10,000에서
20,000 정도
near play나 far play 나올 거리가
그 정도 안에 들어올 수 있는 단위 쓰는게 더 좋은거 같아요
뭐 그거야 실제
게임을 돌려보시면서 플레이
해보시는 게 좋겠고
그리고
정말 합리적으로
어떻게 했는데도 여전히
Z-fighting이 많이 난다
예를 들어
내 게임은 반드시 3km는 보여줘야 되고
그럼 30,000까지 갔는데
한 25,000쯤에서 Z-fighting이 나더라
그러면 트릭은
near play는 앞으로 밀어주세요
보통 near play는 어디에 두는지 모르겠는데, 보통
미터 단위로 하면, 보통 한 0.1정도 둬 가지고
한 10cm정도에 near play를 둬요
그 말은 뭐냐면
카메라에서 10cm 사이에 있는
메쉬들을 자르겠다는 거에요
실제 게임에서 그렇게 가까이 볼 물체가 대부분 없거든요
0.1정도면 보통 쓰는데
그거를 정말로 게임에 따라 1m까지 늘릴 수 있는 경우도 있을거에요
그 near를 1m까지 늘려주면, 아까 그 z하고 w하고 division하는 문제 있잖아요?
그것 때문에부터 보통 앞에 부분이
굉장히 friction(?)이 높고
뒤에 갈수록 낮춰지거든요
그래서 near play는 앞으로 밀면 밀수록
far play는 가만히 있어도
뒤에는 정밀도가 높아지면서
Z-fighting이 덜 나요
그래서 카메라 같은거 zoom in 할 때 있죠
굉장히 멀리있는거 확 당겨서 볼 때
그럴 때도 단순히 그냥 fov(field of view)를 조절하는거
넓혀져 있던걸 안으로 싹 조이면
내리면
그만큼 오면서 더 크게 보이거든요
그럴 때는
그렇게만 하는 사람들도 있어요
쭉 당겨보니까 보니까 그때서야 Z-fighting이 보이는거죠
멀리있을때는 점 2개, 3개짜리여서
안보이던게
딱 좁혀서 가까이 쫙 보니까 보일 때가 있어요
그럴 때는
앞의 뭐 물체 지나갈 때, 그거를
카메라에 보여줘야만 하는 그런 상황이 아니라면, near play도 적당히 밀어줘서
그 범위를 적게 해주면 그런 문제도
해결할 수가 있어요
갑자기 왜 여기까지 왔지...? 아...!
그냥 floating point 얘기하면서
뭐
unit을 잘 쓰자...!!라고 하기에는 비디오가 너무 짧았던거 같아요
대충 늘렸으니까, 또 끊어야죠
네 포프였습니다.
