다시 오랜만에 비주얼 c 플러스
플러스 에디를 좀만 해보죠
아
듀얼 c 플러스 플러스 2013년
에만 동작하는 게 아닐까 생각을
하는데 2012 가 될 수도 있구요
정확히 모르겠어요
요즘 이제 비쥬얼 c 플러스 플러스
개발팀에서 그제 마이크로소프트의 는
개발팀이 줘
거기서 이제 새로운 d 주얼 10
플러스 플러스 기능들을 아
다음 버전 나올때까지 기다리지 않고
약간 익스텐션 개념으로 미리미리 일제
공개를 하더라고요
그 얼마전에 모 보 않아 말씀드린
것도 그 분이 있었는데 기억이 안나고
뭐 이제
아 그래서 오늘도 그런걸 1 설명
드리려고 해요 이제
최근에 비쥬얼 c 플러스 플러스
팀에서 이제 만들었던 익스텐드 중에
아 스피드 캅 일하고 있어요 스피카
sp 들어가면 속도 고 카비 면은
이제 경찰이 잖아요 그러니까 그 성능
향상을 할 수 있는 코드가 섬 각호
고성능에 코드를 만들기 위해 이제
힌트를 주는 그런 익스텐션을
만들었어요 이제 비쥬얼 스튜디오
익스텐션 갤러리 까고 이제
다운받으시면 되고 스피드 컵이라고
되게 뭐 하는 거냐면
그 c 코드를 짜다 보면 은
그런거 있잖아요 이제 그 가장 좋으냐
이젠 오프 돌릴때 얘기에 루프
아이템을 가장 잘해주는 거 같으니까
루프를 돌릴 때 이제 배열이 뭐 예를
들어서 이제 인테 줄 플러시 나한테
줘 그런 이렇게 뽑아 이 되는 그런
아 변수를 엘리먼트를 갖고 있는
배열이 있고 그냥 배열 하나를 다른
배열 이렇게 복사할 때 예를 들어서
뭐
아니면 뭐 각 배열 마다 숫자로 4식
더해 줄 때 이런거 있잖아요 뭐
a100 배열 이름의 이라면 a 첫
영에 플러스 1 해주고 a 일에
플러스 돼주고 a 이에 플러스 일해
주고 그 각 배열 요소 끼리는 서로
뭐 더하거나 이런거 없이 다 한마디로
독자적 으로 뭔가를 처리하는 모든
배열을 훑으면서 할 때
이거를 부지
하나하나씩 1 지 안 해주고 그 네
개를 합쳐 갖고 16 바이트 로 해
거쳐 레 한번에 더해주고 되거든요
왜냐하면 요즘 cpu 는 그런 최소한
16 바이트 를 한번에 처리할 수
있는 팩트의 시 들어가 있기 때문에
아 그걸 한번 해주면 속도가 더
빠르죠 그 4번 그 어셈블러 실행
시켜 줄 거 한 번에 식 벡터
어셈블리 한번 실행되면 끝이 한번
실행해 주면 끝이니까 이렇게 말이
안나오는
그래서 그런거 이제 백철 아 이제 션
이라고 해요 백토 화 해준다
쓰게 그런거를 아
자동으로 해주고 아니 원래 컴파일러가
자기가 벡터를 할 수 있으며 해줘요
근데 해주는데
어떤 조건이 되는 벡터를 못해주는
경우도 있어요 왜냐하면 전에도 잠깐
못 시작 뭣이 #2 10 플러스
플러스 보다 빨라 진다는 얘기해 스트
잠깐 했던 얘기지만 컴파일러가 이렇게
최적화를 할 수 있는지 판단해 주는
그런 코드를 돌리는게 시간도 걸리고
그거를 뭐 수백만 개를 체크할 수
없으니까 어느정도 제안이 있거든요
이렇게 체크를 하는게 있기 때문에 그
체크에 실패하면 그 자동 벡터와 가
안되요
그러면 자동 벡터와 가 안될 때는
과연 프로그램은 어떻게 아냐 조치 게
알 방법은 별로 없잖아요 언제나
어셈블리어 코드 만들어 다시 보지
않는 한 알긴 어렵거든요
근데 프로그래머가 뭐 어셈블리 맨날
보는 사람이 언제 있어 별로 없지
내가 그런걸 해결하고 좀 해결 해
주고자 나온게 스피드 칼이 에요 이게
뭐 하냐 며 는 아까 말씀드린 것은
벡터 포도 있잖아요
어레이 코드 그어 레코드를 실행을
했는데 만약에 벡터가 안됐다
그러면은
그 컴파일 할 때가 앞으 2인 더구나
뭐 에러 윈도우 이런거 있잖아요 제
생각에 에라 창에 나왔던 것 같기도
한데 워닝 으로 기억이 정확히 낫나요
아마 그 9 부착 나올 거고 애라
창에 보면은
오류창이 라 그러나 것만은 모르겠어요
거창에 보면은 워닝 으로 나올 거야
마 거 기 사 오면 아 요기 있는 요
코드가 이런 문제 때문에 팩토 화를
못 했다 라고 힌트를 보여주는 그런
익스텐션 이에요 그래서 이제 그
힌트를 보고 거의 간 다음에
아무문제가 이거구나 해서 코드를
조금만 고치면 이제 컴파일러가 벡터와
를 쉽게 판단할 수 있게 만들어주는
거죠
대표적인 예가 하나 가 뭐냐면 그
아까 말한 배열 그런 예제에서
배열 액의 요 수가 한 설움 배치
맘에 벡터가 안될 거에요 근데 그게
1열 투쟁과 15개 까지는 벡터가
되는걸로 알고 있어요 그래서 그런
것들도 있고
제목 그런 경우에는 뭐 해결 하려면
뭐 마이크로소프트 자체 키워드인 언더
스코어 언덕 밑줄 및 쯤 디스트릭트
써주면 것도 알아서 해 주긴 하겠지만
뭐나 그 어떤 의미에서는 컴파일러의
너무 종속되어 있는 그런 키워드는 걸
안 쓰는 게 좋잖아요 이식성이 내는
거 따질 때
그런거 고려해 봤을 때는
아 그런 그냥 스피드 카브 루 돌
스피드 칼을 켜놓고 그런 원인이
나왔을 때 혹시 이게 고치기 쉬운
거면 고철 고층으로 인해
코드의
성능을 향상시키는 좋은 방법이 되는
것 같아요
아 근데 이제 스피드 카베 제 1조
뭐냐면
아까 나 아까 말씀 안드려도 구나
디버그 빌드에서 는 스킬 카드 안돼요
릴리스 빌드 에서만 되요 그래서
당연한 얘기죠 3일 당연히 최종
코드가 릴리스 빌드 니까 거기서
어떤게 벡터와 되는 집 와서 그걸
판단 해 줘야죠 그리고 디버그 빌드는
최적화 거의 꺼져 있는 경우가
대부분이니 까 그런 벡터 화가
일어나지도 않을 거구요 그래서
혹시라도 이게 궁금하신분들은 한번
다운받아 보세요 이제 비주얼 스튜디오
갤러리 가져갔고 스피드컷 다운받으신
다음에
윌리스 b 대해서
으
이거 켜 드시고
익힐 필요도 자동으로 켜지지 여길
21 돼서 컴파일에 보시고 혹시 벡터
바가 자동으로 안된다는건 아머 따른
컴파일러 최적화 가 불가능 했던
그런데 센 찾아보시고
뭔가 또 제 약점이 하나 있었던 것
같은데
그건 고천락 고쳐 쓸 수도 있어요
처음 스피드컷 나왔을 때는 그
컴파일하는 코드 창을 열어 두지
않으면 그
백토 의 실패했다 이런 메시지가 안
나왔던 걸로 기억을 하거든요 그래서
언제나 그 코드 cpp 파일을 열어도
컴파일 했어야 하는데 제 기억에는
지금 다음 버전이 나왔어요 1점
일인가
고기 서는 그 문제로 오셨다고 제가
기억을 하거든요 정확히는 기억이 안
나고 혹시라도
뭐 그 갤러리 페이지 익스텐션
페이지에 보면 분명히 예제가 있을
거에요
그 예제를 실행 했는데도 아 벡터와
안됐다는 뭐 이런 메세지가 없다
그러면 한번 cpp 파일을 열어
보시고 실행해 보세요 그래서 되면은
아직도 그 법은 안 고쳐 징 거고요
아 그래서 제가 어디에 c 플러스
플러스 코드를 많이 짜고 있잖아요
놀고 있기 때문에 요즘은 책 작업을
주로 하고 있고 제가 아직도 실무에서
지금 매일같이 cppg 역시 플러스
플러스 를 만지고
아 게임을 최적화는 단계라면 많이 쓸
것 같은 기능이 있네요 왜냐하면
굳이
까
뭐라 그랬어요 근데 꼭 짜고 않는
성능 최적화 하니까 어떻게 보면은
그래 그럴 거 같아요 아
켜두고 에 그런거는 좋은거 같아요 또
한가지 걱정은 이게
2014년 에서 또 컴파일러가 다르게
더 최적화가 되면서 컴파일러 좀 바뀔
거 아니에요 그럼 2013년 버전
하고 2014년 버전에 최적화 패턴이
다룰 수가 있어요 최적화는 방식이
그러면 원래는
100 통화를 시도 하던걸 백토 할
자체 시도를 안 하면 아 이제
2013년 에서 이게 이렇다고 애가
하도 워닝 을 줘서 코드를 좀 거기에
맞고 찾는데
2014년도 에서는 아예 처음부터
최적화 난 쓸 있게 안 시키려고 하면
워닝 도안 날 거고 우리 그걸로
코드가 나빠질 수 있지 않나 생각도
좀 들고 모르겠어요 건 좀 더 생각을
해봐야 겠네
이
가능한거 아닌것 같애 몰라요 아 몰라
그건 나중에 생각해 볼게요
그래서 뭐 어쨌든 간에
본론은 아 스피카 모르시는 분들 한번
받아 하고 사용해보세요 괜찮은 것
같아요
예 뽑혔습니다
